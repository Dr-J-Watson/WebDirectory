<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SAÉ</title>
</head>
<body>
<main id="main">

</main>

<script id="listEntreeTemplate" type="text/x-handlebars-template">
	<section id="list">
    <input type="text" id="searchInput" placeholder="Rechercher un nom">
    <select id="select">
      <option value="/api/entrees">Tous les services</option>
      {{#each services}}
        <option value="{{this.links.collections.href}}">{{this.service.nom}}</option>
      {{/each}}
    </select>
    <select id="tri">
      <option value="">Aucun tri</option>
      <option value="sort=nom-asc">Nom (A-Z)</option>
      <option value="sort=nom-desc">Nom (Z-A)</option>
    </select>
    <button id="search">Rechercher</button>
    <h2>{{tri}}</h2>
    {{#if entrees}}
      {{#each entrees}}
        <img src="{{this.entree.image}}">
        <h3>{{this.entree.lastName}} {{this.entree.firstName}}</h3> 
        <button class="voir" url="{{this.links.self.href}}">Voir</button>
        <p>Services :</p>
        <ul>
          {{#each this.entree.services}}
            <li>{{this}}</li>
          {{/each}}
        </ul>
      {{/each}}
    {{else}}
    <p>Aucune entrée dans ce service</p>
    <button id="home">Home</button>
    {{/if}}
	 </section>
</script>

<script id="entreeTemplate" type="text/x-handlebars-template">
	<section id="entree">
    {{#if image}}
		  <img src="{{image}}">
      {{else}}
      <p>{{initiales.nom}}{{initiales.prenom}}</p>
    {{/if}}
    <h3>{{data.lastName}} {{data.firstName}}</h3>
    <p>Fonction : {{data.fonction}}</p>
    <p>Numéro de bureau : {{data.numBureau}}</p>
    <p>Services :</p>
    <ul>
      {{#each services}}
        <li>{{this}}</li>
      {{/each}}
    </ul>
    <h4>Informations de contact</h4>
    <ul>
      <li><a href="mailto:{{data.email}}">{{data.email}}</a></li>
      <li><a href="tel:{{data.telMobile}}">{{data.telMobile}}</a></li>
      <li><a href="tel:{{data.telFixe}}">{{data.telFixe}}</a></li>
    </ul>
    <button id="home">Home</button>
	 </section>
</script>

<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
<script  src='./js/index.js' defer ></script>
</body>
</html>